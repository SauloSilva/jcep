{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap 777b0de75a9f12eb247c","webpack:///./src/jcep.js","webpack:///./src/aggregation.js","webpack:///./src/base.js","webpack:///./src/append_script.js","webpack:///./src/jsonp.js","webpack:///./src/requester.js","webpack:///./src/search.js"],"names":[],"mappings":"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","file":"jcep.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"jcep\"] = factory();\n\telse\n\t\troot[\"jcep\"] = factory();\n})(this, function() {\nreturn \n\n\n/** WEBPACK FOOTER **\n ** webpack/universalModuleDefinition\n **/"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 777b0de75a9f12eb247c\n **/","import aggregation from './aggregation.js';\nimport Base from './base.js';\nimport AppendScript from './append_script.js';\nimport JsonP from './jsonp.js';\nimport Requester from './requester.js';\nimport Search from './search.js';\n\nclass Config extends aggregation(Base, AppendScript, JsonP, Requester, Search) {}\n\nmodule.exports = Config;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/jcep.js\n **/","let aggregation = (baseClass, ...mixins) => {\n  let base = class _Combined extends baseClass {\n    constructor(...args) {\n      super(...args);\n\n      mixins.forEach((mixin) => {\n        mixin.prototype.initializer.call(this);\n      });\n    }\n  };\n\n  let copyProps = (target, source) => {\n    Object.getOwnPropertyNames(source)\n      .concat(Object.getOwnPropertySymbols(source))\n      .forEach((prop) => {\n        if (prop.match(/^(?:constructor|prototype|arguments|caller|name|bind|call|apply|toString|length)$/)) {\n          return;\n        };\n\n        Object.defineProperty(target, prop, Object.getOwnPropertyDescriptor(source, prop));\n      });\n  };\n\n  mixins.forEach((mixin) => {\n    copyProps(base.prototype, mixin.prototype);\n    copyProps(base, mixin);\n  });\n\n  return base;\n};\n\nmodule.exports = aggregation;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/aggregation.js\n **/","class Base {\n  constructor(object = {}) {\n    let {\n      triggerEventName = false,\n      elements = false,\n      success: callbackSuccess,\n      error: callbackError\n    } = object;\n\n    let {\n      cepEl = 'cep',\n      streetEl = 'street',\n      numberEl = 'number',\n      neighborhoodEl = 'neighborhood',\n      cityEl = 'city',\n      stateEl = 'state'\n    } = elements;\n\n    this.cepEl = cepEl;\n    this.streetEl = streetEl;\n    this.numberEl = numberEl;\n    this.neighborhoodEl = neighborhoodEl;\n    this.cityEl = cityEl;\n    this.stateEl = stateEl;\n\n    this.triggerEventName = triggerEventName;\n    this.callbackSuccess = callbackSuccess || false;\n    this.callbackError = callbackError || false;\n  }\n\n  set cepEl(el) {\n    this._cepEl = this.searchEl({ el });\n  }\n\n  get cepEl() {\n    return this._cepEl;\n  }\n\n  set streetEl(el) {\n    this._streetEl = this.searchEl({ el });\n  }\n\n  get streetEl() {\n    return this._streetEl;\n  }\n\n  set neighborhoodEl(el) {\n    this._neighborhoodEl = this.searchEl({ el });\n  }\n\n  get neighborhoodEl() {\n    return this._neighborhoodEl;\n  }\n\n  set cityEl(el) {\n    this._cityEl = this.searchEl({ el });\n  }\n\n  get cityEl() {\n    return this._cityEl;\n  }\n\n  set stateEl(el) {\n    this._stateEl = this.searchEl({ el });\n  }\n\n  get stateEl() {\n    return this._stateEl;\n  }\n\n  set numberEl(el) {\n    this._numberEl = this.searchEl({ el });\n  }\n\n  get numberEl() {\n    return this._numberEl;\n  }\n\n  set triggerEventName(triggerEventName) {\n    this._triggerEventName = triggerEventName;\n  }\n\n  get triggerEventName() {\n    return this._triggerEventName;\n  }\n\n  set callbackSuccess(callbackSuccess) {\n    this._callbackSuccess = callbackSuccess;\n  }\n\n  get callbackSuccess() {\n    return this._callbackSuccess;\n  }\n\n  set callbackError(callbackError) {\n    this._callbackError = callbackError;\n  }\n\n  get callbackError() {\n    return this._callbackError;\n  }\n\n  set cep(cep) {\n    this._cep = cep.match(/[0-9]/g).join('');\n  }\n\n  get cep() {\n    return this._cep;\n  }\n\n  set jsonCallbackName(prefix) {\n    return this._jsonCallbackName = `jsonp_callback_${prefix}`;\n  }\n\n  get jsonCallbackName() {\n    return this._jsonCallbackName;\n  }\n\n  searchEl({ el }) {\n    let element;\n\n    if (el) {\n      element = document.querySelectorAll(el)[0];\n\n      if (!element) {\n        let elWithoutSpecialChar = el.match(/[a-zA-Z]/g).join('');\n        element = document.querySelectorAll(`[data-${elWithoutSpecialChar}]`)[0];\n      }\n    }\n\n    return element;\n  }\n}\n\nmodule.exports = Base;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/base.js\n **/","class AppendScript {\n  initializer() {}\n\n  get apiUrl() {\n    let protocol = location.protocol === 'https:' ? 'https:' : 'http:';\n    return `${protocol}//correiosapi.apphb.com/cep/${this.cep}`;\n  }\n\n  appendScript() {\n    let script = document.createElement('script');\n    script.src = this.apiUrl + (this.apiUrl.indexOf('?') >= 0 ? '&' : '?') + 'callback=' + this.jsonCallbackName;\n    document.body.appendChild(script);\n\n    return script;\n  }\n}\n\nmodule.exports = AppendScript;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/append_script.js\n **/","class JsonP {\n  initializer() {}\n\n  jsonp(callbackSuccess, callbackError) {\n    this.jsonCallbackName = Math.round(100000 * Math.random());\n\n    window[this.jsonCallbackName] = ((data) => {\n      this.removeScriptAndCallback(script);\n      callbackSuccess(data);\n    });\n\n    let script = this.appendScript();\n\n    script.onerror = ((xhr) => {\n      this.removeScriptAndCallback(script);\n      callbackError(xhr);\n    });\n  }\n\n  removeScriptAndCallback(script) {\n    delete window[this.jsonCallbackName];\n    document.body.removeChild(script);\n  }\n}\n\nmodule.exports = JsonP;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/jsonp.js\n **/","class Requester {\n  initializer() {}\n\n  request() {\n    return new Promise((resolve, reject) => {\n      this.jsonp(\n        ((data) => {\n          resolve(data);\n        }),\n        (error) => {\n          reject(error);\n        }\n      );\n    });\n  }\n}\n\nmodule.exports = Requester;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/requester.js\n **/","class Search {\n  initializer() {\n    this.eventHandler();\n  }\n\n  eventHandler() {\n    if (!this.cepEl) { return; };\n\n    this.cepEl.addEventListener('change', (() => {\n      this.cep = this.cepEl.value;\n      this.search();\n    }), false);\n  }\n\n  search() {\n    this.request().then((data) => {\n      if (this.callbackSuccess) {\n        this.callbackSuccess(data);\n      }\n\n      if (this.triggerEventName) {\n        let event = new CustomEvent(`${this.triggerEventName}:success`, { detail: data });\n        document.dispatchEvent(event);\n      } else {\n        this.fillForm(data);\n      }\n    }, (err) => {\n      if (this.callbackError) {\n        this.callbackError(err);\n      }\n\n      if (this.triggerEventName) {\n        let event = new CustomEvent(`${this.triggerEventName}:error`, { detail: err });\n        document.dispatchEvent(event);\n      }\n    });\n  }\n\n  fillForm(data) {\n    this.streetEl.value = `${data.tipoDeLogradouro} ${data.logradouro}`;\n    this.neighborhoodEl.value = data.bairro;\n    this.cityEl.value = data.cidade;\n    this.stateEl.value = data.estado;\n\n    this.numberEl.focus();\n  }\n}\n\nmodule.exports = Search;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/search.js\n **/"],"sourceRoot":""}